-- -------------------------------
-- CREATE TABLE :: SERVICE-BROKER 
-- -------------------------------
DROP TABLE IF EXISTS <%= p("service.schema_name") %>.`service_instance`;
CREATE TABLE <%= p("service.schema_name") %>.`service_instance` (
  `service_instance_id` varchar(45) NOT NULL,
  `service_id` varchar(45) NOT NULL,
  `plan_id` varchar(45) NOT NULL,
  `organization_guid` varchar(45) NOT NULL,
  `space_guid` varchar(45) NOT NULL,
  `dashboard_url` varchar(255) NOT NULL,
  `created_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`service_instance_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS <%= p("service.schema_name") %>.`dedicated_vm`;
CREATE TABLE <%= p("service.schema_name") %>.`dedicated_vm` (
  `vm_id` varchar(100) NOT NULL,
  `ip` varchar(15) NOT NULL,
  `assignment` varchar(1) NOT NULL DEFAULT 'N',
  `dashboard_url` varchar(255) DEFAULT NULL,
  `provisioned_service_instance_id` varchar(45) DEFAULT NULL,
  `provisioned_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`vm_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

