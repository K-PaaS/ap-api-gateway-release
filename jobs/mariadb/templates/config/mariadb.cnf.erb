<%
base_dir = '/var/vcap/sys/run/mariadb'
%>
 
[client]
port            = <%= p('port') %>
socket          = <%= "#{base_dir}/mysql.sock" %>
 
[mysqld_safe]
socket          = <%= "#{base_dir}/mysql.sock" %>
nice            = 0
 
[mysqld]
user            = vcap
pid-file        = /var/vcap/sys/run/mariadb/mariadb.pid
port            = <%= p('port') %>
socket          = <%= "#{base_dir}/mysql.sock" %>
basedir         = /var/vcap/packages/mariadb
datadir         = /var/vcap/store/mariadb
tmpdir          = /var/vcap/sys/tmp/mariadb
skip-external-locking
bind-address    = 0.0.0.0
 
key_buffer_size         = 16M
max_allowed_packet      = 1M
table_open_cache        = 64
sort_buffer_size        = 512K
net_buffer_length       = 8K
read_buffer_size        = 256K
read_rnd_buffer_size    = 512K
myisam_sort_buffer_size = 8M


#max_connections         = 100
#connect_timeout         = 5
#wait_timeout            = 600
#thread_cache_size       = 128
#bulk_insert_buffer_size = 16M
#tmp_table_size          = 32M
#max_heap_table_size     = 32M
 
#myisam_recover          = BACKUP
#open-files-limit       = 2000
#concurrent_insert       = 2
 
#query_cache_limit       = 128K
#query_cache_size        = 64M
 
general_log_file        = /var/vcap/sys/log/mariadb/mariadb-general.log
general_log             = 1
log-error               = /var/vcap/sys/log/mariadb/mariadb-error.log
log_warnings            = 2
slow_query_log_file     = /var/vcap/sys/log/mariadb/mariadb-slow.log
long_query_time         = 10
log_slow_verbosity      = query_plan
 
character_set_server = utf8
 
#sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
 
[mysqldump]
quick
#quote-names
max_allowed_packet      = 16M
 
[mysql]
#no-auto-rehash # faster start of mysql but no tab completition
 
[myisamchk]
key_buffer_size             = 20M
sort_buffer_size            = 20M
read_buffer                 = 2M
write_buffer                = 2M

